@tool
extends MarginContainer


# --------------------------------------------------------------------------------------------------
# Constants
# --------------------------------------------------------------------------------------------------
const INFOREQUESTDIALOG : PackedScene = preload("res://addons/Components/ui/info_request_dialog/InfoRequestDialog.tscn")

# --------------------------------------------------------------------------------------------------
# Variables
# --------------------------------------------------------------------------------------------------

# --------------------------------------------------------------------------------------------------
# Onready Variables
# --------------------------------------------------------------------------------------------------

# --------------------------------------------------------------------------------------------------
# Override Methods
# --------------------------------------------------------------------------------------------------

# --------------------------------------------------------------------------------------------------
# Private Methods
# --------------------------------------------------------------------------------------------------

# --------------------------------------------------------------------------------------------------
# Public Methods
# --------------------------------------------------------------------------------------------------


# --------------------------------------------------------------------------------------------------
# Handler Methods
# --------------------------------------------------------------------------------------------------
func _on_AddDB_pressed():
	var info_dialog = INFOREQUESTDIALOG.instantiate()
	if info_dialog != null:
		info_dialog.label_text = "Enter new Component Database Name:"
		add_child(info_dialog)
		info_dialog.dialog_accepted.connect(_on_new_db_name)
		info_dialog.popup_centered()

func _on_new_db_name(db_name : String) -> void:
	if db_name.strip_edges() != "":
		var res : int = CCDB.create_database(db_name)
		if res != OK:
			printerr("Create Database failed with code: ", res)
	#print("The new DB name is: ", db_name)
