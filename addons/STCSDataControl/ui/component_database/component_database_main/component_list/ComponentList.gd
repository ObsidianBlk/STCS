extends Control


# ------------------------------------------------------------------------------
# Signals
# ------------------------------------------------------------------------------
signal component_selected(db_key, uuid)

# ------------------------------------------------------------------------------
# Variables
# ------------------------------------------------------------------------------
var _db_key : StringName = &""

# ------------------------------------------------------------------------------
# Onready Variables
# ------------------------------------------------------------------------------
@onready var _comp_tree : Tree = $Components/Scroll/Tree

# ------------------------------------------------------------------------------
# Private Methods
# ------------------------------------------------------------------------------
func _BuildTree(db : ComponentDB) -> void:
	_comp_tree.clear()
	var root : TreeItem = _comp_tree.create_item()
	_comp_tree.hide_root = true
	

# ------------------------------------------------------------------------------
# Public Methods
# ------------------------------------------------------------------------------
func show_database_components(db_key : StringName) -> void:
	if db_key != _db_key:
		var db : ComponentDB = CCDB.get_database_by_key(db_key)
		if db != null:
			_db_key = db_key
			_BuildTree(db)

# ------------------------------------------------------------------------------
# Handler Methods
# ------------------------------------------------------------------------------

